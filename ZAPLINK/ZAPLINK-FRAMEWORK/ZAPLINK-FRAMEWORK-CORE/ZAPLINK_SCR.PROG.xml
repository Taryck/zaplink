<?xml version="1.0" encoding="utf-16"?>
<ZL_OBJECT CONNECTOR="AAAD0A4B07A5A05AE1000000AC120173" NAME="ZAPLINK_SCR" TYPE="PROG">
 <DIRECTORY SRCSYSTEM="OD4" AUTHOR="TBENSIAL" DEVCLASS="ZAPLINK-FRAMEWORK-CORE" MASTERLANG="E"/>
 <RAW>
  <A0_MAIN NAME="ZAPLINK_SCR" EDTX="X" VARCL="X" SUBC="I" CNAM="TBENSIAL" CDAT="20090507" UNAM="TBENSIAL" UDAT="20091118" VERN="000021" LEVL="700" RSTAT="K" RMAND="220" RLOAD="E" SDATE="20091118" STIME="155352" IDATE="20091118" ITIME="155352" UCCHECK="X"/>
  <SOURCE>*&amp;---------------------------------------------------------------------*
*&amp;  Include           ZAPLINLK_SCR
*&amp;---------------------------------------------------------------------*

*/------------------------SELECTION SCREEN----------------------------\

SELECTION-SCREEN BEGIN OF BLOCK main2 WITH FRAME.
SELECTION-SCREEN BEGIN OF BLOCK splk2 WITH FRAME TITLE text-slk.
PARAMETERS nugi TYPE c RADIOBUTTON GROUP r3 DEFAULT &apos;X&apos;
  USER-COMMAND updown.
PARAMETERS nugd TYPE c RADIOBUTTON GROUP r3.
SELECTION-SCREEN ULINE.
PARAMETERS nugu TYPE c RADIOBUTTON GROUP r3.  &quot;uninstall
SELECTION-SCREEN ULINE.
PARAMETERS nugc TYPE c RADIOBUTTON GROUP r3.
PARAMETERS nuga TYPE c RADIOBUTTON GROUP r3.
PARAMETERS nugp TYPE c RADIOBUTTON GROUP r3.
PARAMETERS nugr TYPE c RADIOBUTTON GROUP r3.
SELECTION-SCREEN END OF BLOCK splk2.

SELECTION-SCREEN BEGIN OF BLOCK opt2 WITH FRAME TITLE text-opt.
PARAMETERS nuggnam(300) TYPE c MODIF ID nnm.
PARAMETERS nplugin TYPE  ko100-object MODIF ID npg.
PARAMETERS nobjnam(40) TYPE c MODIF ID npg.
*      parameters nPlugIn type  KO100-object modif id npg.
PARAMETER package      TYPE tadir-devclass MODIF ID npc.
SELECT-OPTIONS  reqnugg FOR e071-trkorr NO INTERVALS
  NO-EXTENSION MODIF ID rnm.
PARAMETER nugfile(300) LOWER CASE TYPE c MODIF ID nfl.
PARAMETERS novrwr TYPE c AS CHECKBOX MODIF ID now.
PARAMETERS oactiv TYPE flag AS CHECKBOX MODIF ID now.
PARAMETERS devclass TYPE tadir-devclass MODIF ID now DEFAULT &apos;$TMP&apos;.
PARAMETERS korrnum TYPE tadir-korrnum MODIF ID now.
SELECTION-SCREEN END OF BLOCK opt2.
SELECTION-SCREEN END OF BLOCK main2.
*\--------------------------------------------------------------------/


*/----------------------selection screen events-----------------------\
INITIALIZATION.

AT SELECTION-SCREEN.
  CASE sscrfields-ucomm.
    WHEN &apos;OBJ&apos;.
      isslinkee = &apos;X&apos;.
    WHEN &apos;NUGG&apos;.
      isslinkee = &apos; &apos;.
  ENDCASE.
  EXPORT isslinkee TO MEMORY ID &apos;ISSLNK&apos;.

AT SELECTION-SCREEN OUTPUT.

  LOOP AT SCREEN.
    IF nugc = &apos;X&apos;.
      IF screen-group1 = &apos;NNM&apos;.
        screen-active = &apos;1&apos;.
        screen-invisible = &apos;0&apos;.
        MODIFY SCREEN.
      ELSEIF screen-group1 = &apos;NPG&apos; OR screen-group1 = &apos;NFL&apos;
        OR screen-group1 = &apos;NOW&apos; OR screen-group1 = &apos;NPC&apos;
        OR screen-group1 = &apos;RNM&apos;.
        screen-active = &apos;0&apos;.
        screen-invisible = &apos;1&apos;.
        MODIFY SCREEN.
      ENDIF.
    ELSEIF nugi = &apos;X&apos;.
      IF screen-group1 = &apos;NFL&apos; OR screen-group1 = &apos;NOW&apos;.
        screen-active = &apos;1&apos;.
        screen-invisible = &apos;0&apos;.
        MODIFY SCREEN.
      ELSEIF screen-group1 = &apos;NNM&apos; OR screen-group1 =&apos;NPG&apos;
         OR screen-group1 = &apos;NPC&apos; OR screen-group1 = &apos;RNM&apos;.
        screen-active = &apos;0&apos;.
        screen-invisible = &apos;1&apos;.
        MODIFY SCREEN.
      ENDIF.
    ELSEIF nuga = &apos;X&apos;.
      IF screen-group1 = &apos;NFL&apos; OR screen-group1 = &apos;NPG&apos;.
        screen-active = &apos;1&apos;.
        screen-invisible = &apos;0&apos;.
        MODIFY SCREEN.
      ELSEIF screen-group1 = &apos;NNM&apos; OR screen-group1 = &apos;NOW&apos;
         OR screen-group1 = &apos;NPC&apos; OR screen-group1 = &apos;RNM&apos;.
        screen-active = &apos;0&apos;.
        screen-invisible = &apos;1&apos;.
        MODIFY SCREEN.
      ENDIF.
    ELSEIF nugp = &apos;X&apos;.
      IF screen-group1 = &apos;NFL&apos; OR screen-group1 = &apos;NPC&apos;.
        screen-active = &apos;1&apos;.
        screen-invisible = &apos;0&apos;.
        MODIFY SCREEN.
      ELSEIF screen-group1 = &apos;NNM&apos; OR screen-group1 = &apos;NOW&apos;
        OR screen-group1 = &apos;NPG&apos; OR screen-group1 = &apos;RNM&apos;.
        screen-active = &apos;0&apos;.
        screen-invisible = &apos;1&apos;.
        MODIFY SCREEN.
      ENDIF.
    ELSEIF nugd = &apos;X&apos; OR nugu = &apos;X&apos;.
      IF screen-group1 = &apos;NFL&apos;.
        screen-active = &apos;1&apos;.
        screen-invisible = &apos;0&apos;.
        MODIFY SCREEN.
      ELSEIF screen-group1 = &apos;NNM&apos; OR screen-group1 =&apos;NPG&apos;
       OR screen-group1 = &apos;NOW&apos; OR screen-group1 = &apos;NPC&apos;
       OR screen-group1 = &apos;RNM&apos;.
        screen-active = &apos;0&apos;.
        screen-invisible = &apos;1&apos;.
        MODIFY SCREEN.
      ENDIF.
    ELSEIF nugr = &apos;X&apos;.
      IF screen-group1 = &apos;NFL&apos; OR screen-group1 = &apos;RNM&apos;.
        screen-active = &apos;1&apos;.
        screen-invisible = &apos;0&apos;.
        MODIFY SCREEN.
      ELSEIF screen-group1 = &apos;NNM&apos; OR screen-group1 = &apos;NOW&apos;
        OR screen-group1 = &apos;NPG&apos; OR screen-group1 = &apos;NPC&apos;.
        screen-active = &apos;0&apos;.
        screen-invisible = &apos;1&apos;.
        MODIFY SCREEN.
      ENDIF.
    ENDIF.
  ENDLOOP.

*** value request for input fields
AT SELECTION-SCREEN ON VALUE-REQUEST FOR nplugin.
  ZAPLINK_CONNECTORS=&gt;GET_VALUES( changing type = nplugin ).
*  FIELD-SYMBOLS:
*    &lt;c&gt; LIKE LINE OF zaplink_kernel=&gt;connector_list.
*
*  REFRESH pluginlist.
*  LOOP AT zaplink_kernel=&gt;connector_list ASSIGNING &lt;c&gt;.
*    MOVE-CORRESPONDING &lt;c&gt; TO pluginline.
*    APPEND pluginline TO pluginlist.
*  ENDLOOP.
*
*  CALL FUNCTION &apos;F4IF_INT_TABLE_VALUE_REQUEST&apos;
*    EXPORTING
*      retfield        = &apos;OBJECT&apos;
*      window_title    = &apos;Installed Plugins&apos;
*      dynpprog        = sy-repid
*      dynpnr          = &apos;1000&apos;
*      dynprofield     = &apos;NPLUGIN&apos;
*      value_org       = &apos;S&apos;
*    TABLES
*      value_tab       = pluginlist
*    EXCEPTIONS
*      parameter_error = 0
*      no_values_found = 0
*      OTHERS          = 0.

AT SELECTION-SCREEN ON VALUE-REQUEST FOR nugfile.
  CALL METHOD cl_gui_frontend_services=&gt;file_open_dialog
    EXPORTING
      multiselection    = abap_false
      file_filter       = &apos;*.nugg&apos;
      default_extension = &apos;nugg&apos;
    CHANGING
      file_table        = retfiletable
      rc                = retrc
      user_action       = retuseraction.
  READ TABLE retfiletable INTO nugfile INDEX 1.

AT SELECTION-SCREEN ON VALUE-REQUEST FOR reqnugg-low.
  iv_organizer_type = &apos;W&apos;.
*  is_selection-reqstatus = &apos;R&apos;.
  CALL FUNCTION &apos;TR_PRESENT_REQUESTS_SEL_POPUP&apos;
    EXPORTING
      iv_organizer_type   = iv_organizer_type
      is_selection        = is_selection
    IMPORTING
      es_selected_request = es_selected_request
      es_selected_task    = es_selected_task.

  reqnugg-low = es_selected_request-trkorr.

*\--------------------------------------------------------------------/</SOURCE>
  <TEXTSPOOL>
   <ITEM ID="R">
    <TEXTS>
     <ITEM LANGU="E" ENTRY="Screen definition of ZAPLINK" LENGTH="28 "/>
    </TEXTS>
   </ITEM>
  </TEXTSPOOL>
 </RAW>
</ZL_OBJECT>
